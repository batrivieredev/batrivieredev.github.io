<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduction à JavaScript</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/styles.css">
</head>
<body>
    <div id="header-placeholder"></div>

    <div class="container mt-4">
        <h1>Introduction à JavaScript</h1>

        <div class="alert alert-info">
            JavaScript est un langage de programmation polyvalent qui permet de créer des applications web interactives.
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header">
                        <h2 class="h5 mb-0">Concepts de base</h2>
                    </div>
                    <div class="card-body">
                        <pre><code>// Variables
let nom = "Baptiste";
const AGE = 25;

// Fonctions
function saluer(nom) {
    return `Bonjour ${nom}!`;
}

// Arrow Functions
const saluerArrow = (nom) => `Bonjour ${nom}!`;

// Objets
const personne = {
    nom: "Baptiste",
    age: 25,
    saluer() {
        return `Je m'appelle ${this.nom}`;
    }
};</code></pre>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card h-100">
                    <div class="card-header">
                        <h2 class="h5 mb-0">ES6+ Features</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                                <strong>Destructuring:</strong>
                                <pre><code>const { nom, age } = personne;</code></pre>
                            </li>
                            <li class="list-group-item">
                                <strong>Spread Operator:</strong>
                                <pre><code>const newArray = [...oldArray];</code></pre>
                            </li>
                            <li class="list-group-item">
                                <strong>Template Literals:</strong>
                                <pre><code>`Hello ${name}!`</code></pre>
                            </li>
                            <li class="list-group-item">
                                <strong>Modules:</strong>
                                <pre><code>import { fonction } from './module';</code></pre>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h5 mb-0">Asynchrone</h2>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6">
                        <h3 class="h6">Promises</h3>
                        <pre><code>fetch('https://api.example.com/data')
    .then(response => response.json())
    .then(data => console.log(data))
    .catch(error => console.error(error));</code></pre>
                    </div>
                    <div class="col-md-6">
                        <h3 class="h6">Async/Await</h3>
                        <pre><code>async function getData() {
    try {
        const response = await fetch('api/data');
        const data = await response.json();
        return data;
    } catch (error) {
        console.error(error);
    }
}</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2 class="h5 mb-0">DOM Manipulation</h2>
                    </div>
                    <div class="card-body">
                        <pre><code>// Sélectionner des éléments
const element = document.querySelector('.classe');
const elements = document.querySelectorAll('.classe');

// Modifier le contenu
element.textContent = 'Nouveau texte';
element.innerHTML = '<span>HTML</span>';

// Gérer les événements
element.addEventListener('click', (e) => {
    console.log('Cliqué!');
});</code></pre>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header">
                        <h2 class="h5 mb-0">Bonnes pratiques</h2>
                    </div>
                    <div class="card-body">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item">Utiliser 'const' et 'let' au lieu de 'var'</li>
                            <li class="list-group-item">Préférer les fonctions fléchées</li>
                            <li class="list-group-item">Gérer les erreurs avec try/catch</li>
                            <li class="list-group-item">Utiliser async/await pour l'asynchrone</li>
                            <li class="list-group-item">Suivre les conventions de nommage</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-header">
                <h2 class="h5 mb-0">Ressources utiles</h2>
            </div>
            <div class="card-body">
                <ul class="list-group list-group-flush">
                    <li class="list-group-item"><a href="https://developer.mozilla.org/fr/docs/Web/JavaScript" target="_blank">MDN Web Docs - JavaScript</a></li>
                    <li class="list-group-item"><a href="https://javascript.info/" target="_blank">JavaScript.info</a></li>
                    <li class="list-group-item"><a href="https://github.com/airbnb/javascript" target="_blank">Airbnb JavaScript Style Guide</a></li>
                    <li class="list-group-item"><a href="https://eloquentjavascript.net/" target="_blank">Eloquent JavaScript</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/accessibility.js"></script>
    <script>
        // Charger le header
        fetch("/header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-placeholder").innerHTML = data;
                // Re-init Bootstrap components after dynamic content load
                const dropdowns = document.querySelectorAll(".dropdown-toggle");
                dropdowns.forEach(dropdown => new bootstrap.Dropdown(dropdown));
            })
            .catch(error => console.error("Erreur lors du chargement du header:", error));

        // Charger le footer puis initialiser l'accessibilité
        fetch("/footer.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("footer-placeholder").innerHTML = data;
                // Initialiser l'accessibilité après l'insertion du footer
                if (typeof window.initializeAccessibility === "function") {
                    window.initializeAccessibility();
                }
            })
            .catch(error => console.error("Erreur lors du chargement du footer:", error));
    </script>
</body>