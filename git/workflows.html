<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workflows Git - Scriptorium</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css" rel="stylesheet">
    <link href="/static/css/styles.css" rel="stylesheet">
</head>
<body>
    <div id="header-placeholder"></div>

    <main class="container py-5" id="main-content">
        <h1 class="display-4 mb-4">Workflows Git avancés</h1>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">GitFlow</h2>
                <p>GitFlow est un modèle de branches pour la gestion des versions :</p>
                <pre><code># Installation de git-flow
apt-get install git-flow  # Debian/Ubuntu
brew install git-flow     # macOS

# Initialisation
git flow init

# Créer une fonctionnalité
git flow feature start ma-feature
git flow feature finish ma-feature

# Créer une version
git flow release start 1.0.0
git flow release finish 1.0.0</code></pre>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">Rebase interactif</h2>
                <p>Nettoyer l'historique des commits :</p>
                <pre><code># Rebase interactif des 3 derniers commits
git rebase -i HEAD~3

# Commandes disponibles dans le rebase
# pick   - garder le commit
# reword - modifier le message
# squash - fusionner avec le commit précédent
# fixup  - fusionner et supprimer le message
# drop   - supprimer le commit</code></pre>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">Submodules</h2>
                <p>Gérer des dépendances Git dans votre projet :</p>
                <pre><code># Ajouter un submodule
git submodule add &lt;url&gt; chemin/vers/sous-module

# Initialiser les submodules après clonage
git submodule init
git submodule update

# Mettre à jour tous les submodules
git submodule update --remote</code></pre>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">Cherry-pick</h2>
                <p>Appliquer des commits spécifiques d'une branche à une autre :</p>
                <pre><code># Cherry-pick d'un commit
git cherry-pick &lt;commit-hash&gt;

# Cherry-pick sans commit
git cherry-pick -n &lt;commit-hash&gt;

# Cherry-pick d'une plage de commits
git cherry-pick &lt;commit-debut&gt;^..&lt;commit-fin&gt;</code></pre>
            </div>
        </div>

        <div class="card mb-4">
            <div class="card-body">
                <h2 class="card-title">Hooks Git</h2>
                <p>Automatiser des actions avec les hooks Git :</p>
                <pre><code># Localisation des hooks
.git/hooks/

# Exemples de hooks courants
pre-commit      # Vérifications avant commit
post-commit     # Actions après commit
pre-push        # Vérifications avant push
post-merge      # Actions après merge</code></pre>
            </div>
        </div>
    </main>

    <div id="footer-placeholder"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/js/accessibility.js"></script>
    <script>
        // Charger le header
        fetch("/header.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("header-placeholder").innerHTML = data;
                // Re-init Bootstrap components after dynamic content load
                const dropdowns = document.querySelectorAll(".dropdown-toggle");
                dropdowns.forEach(dropdown => new bootstrap.Dropdown(dropdown));
            })
            .catch(error => console.error("Erreur lors du chargement du header:", error));

        // Charger le footer puis initialiser l'accessibilité
        fetch("/footer.html")
            .then(response => response.text())
            .then(data => {
                document.getElementById("footer-placeholder").innerHTML = data;
                // Initialiser l'accessibilité après l'insertion du footer
                if (typeof window.initializeAccessibility === "function") {
                    window.initializeAccessibility();
                }
            })
            .catch(error => console.error("Erreur lors du chargement du footer:", error));
    </script>
</body>